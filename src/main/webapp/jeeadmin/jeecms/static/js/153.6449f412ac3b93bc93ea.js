webpackJsonp([153],{FGgj:function(t,n,e){var i=e("riKt");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("FIqI")("ddd211c6",i,!0,{})},MFP8:function(t,n,e){"use strict";function i(t){e("FGgj")}Object.defineProperty(n,"__esModule",{value:!0});var r=e("5HJ5"),a={mixins:[r.a],data:function(){return{params:{pageNo:"",pageSize:""},url:"",jsUrl:"",dialogVisible:!1,radio:1,isList:!0,title:""}},methods:{getPriority:function(t){var n=[];for(var e in t)n.push(t[e].priority);return n.join(",")},user:function(t,n){this.jsUrl="",this.radio=1,this.url=t,this.what(1),this.title=n?"表单结果列表代码调用方式":"表单提交代码调用方式",this.dialogVisible=!0},what:function(t){1==t?(this.jsUrl="<script charset='UTF-8' defer>(function(h){function n(a){return null===a?null:a.scrollHeight>a.clientHeight?a:n(a.parentNode)}",this.jsUrl+="function t(b){if(b.data){var f=JSON.parse(b.data);!f.height||p||q||(d.style.height=+f.height+'px');",this.jsUrl+="if(f.getter){b={};var f=[].concat(f.getter),k,h=f.length,m,c,g,e;for(k=0;k<h;k++){m=k;c=f[k]||{};",this.jsUrl+="c.n&&(m=c.n);g=null;try{switch(c.t){case 'window':e=window;break;case 'scrollParent':e=n(a)||window;",this.jsUrl+="break;default:e=a}if(c.e)if('rect'===c.v){g={};var l=e.getBoundingClientRect();",this.jsUrl+="g={top:l.top,left:l.left,width:l.width,height:l.height}}else g=e[c.v].apply(e,[].concat(c.e))||!0;",this.jsUrl+="else c.s?(e[c.v]=c.s,g=!0):g=e[c.v]||!1}catch(u){}b[m]=g}b.innerState=!p&&!q;a.contentWindow.postMessage(JSON.stringify({queryRes:b}),'*')}}}",this.jsUrl+="for(var r=h.document,b=r.documentElement;b.childNodes.length&&1==b.lastChild.nodeType;)b=b.lastChild;",this.jsUrl+="var d=b.parentNode,a=r.createElement('iframe');d.style.overflowY='auto';d.style.overflowX='hidden';",this.jsUrl+="var p=d.style.height&&'auto'!==d.style.height,q='absolute'===d.style.position||window.getComputedStyle&&'absolute'===window.getComputedStyle(d,null).getPropertyValue('position')||d.currentStyle&&'absolute'===d.currentStyle.position;",this.jsUrl+="h.addEventListener&&h.addEventListener('message',t,!1);",this.jsUrl+="a.src='"+this.url+"';a.onload=function(){a.contentWindow.postMessage(JSON.stringify({cif:1}),'*')};",this.jsUrl+="a.frameBorder=0;a.scrolling='no';a.style.display='block';a.style.minWidth='100%';",this.jsUrl+="a.style.width='100px';a.style.height='800px';a.style.border='none';a.style.overflow='auto';",this.jsUrl+="d.insertBefore(a,b)})(window);",this.jsUrl+="</",this.jsUrl+="script>"):this.jsUrl="<iframe height='800' allowTransparency='true' style='width:100%;border:none;overflow:auto;' frameborder='0' src='"+this.url+"'></iframe>"}},created:function(){this.initTableData(this.$api.customFormList,this.params)}},l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"cms-body"},[e("div",{staticClass:"cms-list-header"},[e("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/customForm/add",expression:"'/customForm/add'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(n){t.routerLink("/customForm/add","save",0)}}},[t._v("添加")])],1),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.checkIds}},[e("el-table-column",{attrs:{type:"selection",width:"65",align:"right"}}),t._v(" "),e("el-table-column",{attrs:{prop:"id",label:"ID",width:"50",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"菜单名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{},[e("a",{staticClass:"link",attrs:{href:n.row.url,title:n.row.name,target:"_blank"}},[t._v(t._s(n.row.name))])])}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"priority",label:"排列顺序",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{},[e("el-input",{attrs:{type:"number"},model:{value:n.row.priority,callback:function(e){t.$set(n.row,"priority",t._n(e))},expression:"scope.row.priority"}})],1)}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"enable",label:"启用",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{},[n.row.enable?e("span",[t._v("是")]):e("span",[t._v("否")])])}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"memberMeun",label:"会员菜单",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{},[n.row.memberMeun?e("span",[t._v("是")]):e("span",[t._v("否")])])}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"allSite",label:"是否全站",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{},[n.row.allSite?e("span",[t._v("是")]):e("span",[t._v("否")])])}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return e("div",{},[e("cms-button",{attrs:{type:"view",title:"表单记录"},nativeOn:{click:function(e){t.routerLink("/customForm/record/list","1",n.row.id)}}}),t._v(" "),e("cms-button",{attrs:{type:"formList",title:"表单代码调用"},nativeOn:{click:function(e){t.user(n.row.url,!1)}}}),t._v(" "),e("cms-button",{staticStyle:{background:"#d573ea"},attrs:{type:"formList",title:"记录列表代码调用"},nativeOn:{click:function(e){t.user(n.row.listUrl,!0)}}}),t._v(" "),e("cms-button",{directives:[{name:"perms",rawName:"v-perms",value:"/customForm/edit",expression:"'/customForm/edit'"}],attrs:{type:"edit",title:"修改"},nativeOn:{click:function(e){t.routerLink("/customForm/edit","update",n.row.id)}}}),t._v(" "),e("cms-button",{directives:[{name:"perms",rawName:"v-perms",value:"/customForm/delete",expression:"'/customForm/delete'"}],attrs:{type:"delete",title:"删除"},nativeOn:{click:function(e){t.deleteBatch(t.$api.customFormDelete,n.row.id)}}})],1)}}])})],1),t._v(" "),e("div",{staticClass:"cms-list-footer"},[e("div",{staticClass:"cms-left"},[e("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/customForm/delete",expression:"'/customForm/delete'"}],attrs:{disabled:t.disabled},on:{click:function(n){t.deleteBatch(t.$api.customFormDelete,t.ids)}}},[t._v("批量删除")]),t._v(" "),e("el-button",{attrs:{disabled:t.disabled},nativeOn:{click:function(n){t.prioritysBatch(t.$api.customFormPriority,t.ids,t.getPriority(t.checkedList))}}},[t._v("保存排列顺序")])],1),t._v(" "),e("cms-pagination",{attrs:{total:t.total},on:{change:t.getPages}})],1),t._v(" "),e("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(n){t.dialogVisible=n}}},[e("span",[e("el-radio",{attrs:{label:1},on:{change:function(n){t.what(t.radio)}},model:{value:t.radio,callback:function(n){t.radio=n},expression:"radio"}},[t._v("Script代码（推荐）")]),t._v(" "),e("el-radio",{attrs:{label:2},on:{change:function(n){t.what(t.radio)}},model:{value:t.radio,callback:function(n){t.radio=n},expression:"radio"}},[t._v("iframe代码")])],1),t._v(" "),e("span",[e("el-input",{attrs:{type:"textarea",rows:20,placeholder:"请输入内容"},model:{value:t.jsUrl,callback:function(n){t.jsUrl=n},expression:"jsUrl"}})],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(n){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(n){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},s=[],o={render:l,staticRenderFns:s},c=o,d=e("Z0/y"),u=i,p=d(a,c,!1,u,null,null);n.default=p.exports},riKt:function(t,n,e){n=t.exports=e("UTlt")(!1),n.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});