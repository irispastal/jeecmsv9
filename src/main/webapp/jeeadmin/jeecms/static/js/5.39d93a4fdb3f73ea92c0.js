webpackJsonp([5],{d9qt:function(n,e,a){e=n.exports=a("UTlt")(!1),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},iamT:function(n,e,a){var t=a("d9qt");"string"==typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);a("FIqI")("a2875602",t,!0,{})},mIs0:function(n,e,a){"use strict";function t(n){a("iamT")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("lcoF"),s=a("2sCs"),i=a.n(s),o=a("x1ym"),d={mixins:[l.a],data:function(){var n=o.a.required();o.a.number();return{params:{},rules:{field:[o.a.string(),n],label:[n],dataType:[n],required:[n],single:[n]},checkRes:!1}},methods:{checkId:function(n){var e=this,a=this.$api;i.a.all([i.a.post(a.typeCheckId,{id:n})]).then(i.a.spread(function(n){n.body.result?e.checkRes=!0:e.checkRes=!1,e.loading=!1})).catch(function(n){e.loading=!1})},getDataInfo:function(n){var e=this,a=this.$api;i.a.post(a.itemGet,{id:n}).then(function(n){e.dataInfo=n.body,e.$refs.form.resetFields(),e.loading=!1}).catch(function(n){e.loading=!1})},update:function(){var n=this;this.updateDataInfo(this.$api.itemUpdate,this.dataInfo);this.$refs.form.validate(function(e){if(!e)return!1;n.loading=!0,i.a.post(n.$api.itemUpdate,n.dataInfo).then(function(e){n.loading=!1,"200"==e.code&&(n.successMessage("修改成功"),setTimeout(function(){n.routerLink("/channelModel/list","list",0,n.$route.query)},500))}).catch(function(e){n.loading=!1})})},add:function(n){var e=this;if(this.dataInfo.modelId=this.$route.query.modelId,n){this.$refs.form.validate(function(n){n&&(e.loading=!0,i.a.post(e.$api.itemSave,e.dataInfo).then(function(n){"200"==n.code&&(e.successMessage("添加成功"),setTimeout(function(){e.routerLink("/channelModel/list","list",0,e.$route.query)},500)),e.loading=!1}).catch(function(n){e.loading=!1}))})}},cmsBack:function(){this.routerLink("/channelModel/list","list",0,this.$route.query)}},created:function(){this.getDataInfo(this.id)}},r=function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("section",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticClass:"cms-body"},[a("a",{staticClass:"cms-back",attrs:{href:"javascript:void(0)"},on:{click:n.cmsBack}}),n._v(" "),a("el-form",{ref:"form",staticClass:"cms-form",attrs:{model:n.dataInfo,rules:n.rules,"label-width":"162px"}},[a("el-form-item",{staticClass:"flex-50",attrs:{label:"字段",prop:"field"}},[0==this.id?a("el-input",{staticClass:"cms-width",model:{value:n.dataInfo.field,callback:function(e){n.$set(n.dataInfo,"field",e)},expression:"dataInfo.field"}}):a("span",[n._v(n._s(n.dataInfo.field))])],1),n._v(" "),a("el-form-item",{staticClass:"flex-50",attrs:{label:"名称:",prop:"label"}},[a("el-input",{staticClass:"cms-width",model:{value:n.dataInfo.label,callback:function(e){n.$set(n.dataInfo,"label",e)},expression:"dataInfo.label"}})],1),n._v(" "),a("el-form-item",{staticClass:"flex-50",attrs:{label:"数据类型:",prop:"dataType"}},[a("el-select",{staticClass:"cms-width",attrs:{disabled:"update"==n.type},model:{value:n.dataInfo.dataType,callback:function(e){n.$set(n.dataInfo,"dataType",e)},expression:"dataInfo.dataType"}},[a("el-option",{attrs:{label:"字符串文本",value:1}}),n._v(" "),a("el-option",{attrs:{label:"整形文本",value:2}}),n._v(" "),a("el-option",{attrs:{label:"浮点形文本",value:3}}),n._v(" "),a("el-option",{attrs:{label:"文本区",value:4}}),n._v(" "),a("el-option",{attrs:{label:"日期",value:5}}),n._v(" "),a("el-option",{attrs:{label:"下拉列表",value:6}}),n._v(" "),a("el-option",{attrs:{label:"复选框",value:7}}),n._v(" "),a("el-option",{attrs:{label:"单选框",value:8}}),n._v(" "),a("el-option",{attrs:{label:"附件",value:9}}),n._v(" "),a("el-option",{attrs:{label:"图片",value:10}})],1)],1),n._v(" "),a("el-form-item",{staticClass:"flex-50",attrs:{label:"默认值:",prop:"defValue"}},[a("el-input",{staticClass:"cms-width",model:{value:n.dataInfo.defValue,callback:function(e){n.$set(n.dataInfo,"defValue",e)},expression:"dataInfo.defValue"}})],1),n._v(" "),a("el-form-item",{staticClass:"flex-100",attrs:{label:"可选项:",prop:"optValue"}},[a("el-input",{staticClass:"cms-width",attrs:{disabled:"update"==n.type},model:{value:n.dataInfo.optValue,callback:function(e){n.$set(n.dataInfo,"optValue",e)},expression:"dataInfo.optValue"}}),n._v(" "),a("span",{staticClass:"gray"},[n._v('多个值用","分开')])],1),n._v(" "),a("el-form-item",{staticClass:"flex-100",attrs:{label:"帮助信息:",prop:"help"}},[a("el-input",{staticClass:"cms-width",model:{value:n.dataInfo.help,callback:function(e){n.$set(n.dataInfo,"help",e)},expression:"dataInfo.help"}})],1),n._v(" "),a("el-form-item",{staticClass:"flex-50",attrs:{label:"是否必填:",prop:"required"}},[a("el-radio-group",{model:{value:n.dataInfo.required,callback:function(e){n.$set(n.dataInfo,"required",e)},expression:"dataInfo.required"}},[a("el-radio",{attrs:{label:!0}},[n._v("是")]),n._v(" "),a("el-radio",{attrs:{label:!1}},[n._v("否")])],1)],1),n._v(" "),a("el-form-item",{staticClass:"flex-50",attrs:{label:"独占一行:",prop:"single"}},[a("el-radio-group",{model:{value:n.dataInfo.single,callback:function(e){n.$set(n.dataInfo,"single",e)},expression:"dataInfo.single"}},[a("el-radio",{attrs:{label:!0}},[n._v("是")]),n._v(" "),a("el-radio",{attrs:{label:!1}},[n._v("否")])],1)],1),n._v(" "),a("div",{staticClass:"form-footer"},[0==this.id?a("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/channelModel/add",expression:"'/channelModel/add'"}],attrs:{type:"warning"},on:{click:function(e){n.add(!0)}}},[n._v("保存并继续添加")]):n._e(),n._v(" "),0==this.id?a("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/channelModel/add",expression:"'/channelModel/add'"}],attrs:{type:"primary"},on:{click:function(e){n.add(!0)}}},[n._v("提交")]):n._e(),n._v(" "),0!=this.id?a("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/channelModel/update",expression:"'/channelModel/update'"}],attrs:{type:"primary"},on:{click:function(e){n.update()}}},[n._v("修改")]):n._e(),n._v(" "),a("el-button",{attrs:{type:"info"},on:{click:n.$reset}},[n._v("重置")])],1)],1)],1)},c=[],u={render:r,staticRenderFns:c},f=u,p=a("Z0/y"),v=t,m=p(d,f,!1,v,null,null);e.default=m.exports}});