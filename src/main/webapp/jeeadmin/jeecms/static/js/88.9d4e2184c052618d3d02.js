webpackJsonp([88],{GD8E:function(t,e,a){"use strict";function n(t){a("WNGB")}Object.defineProperty(e,"__esModule",{value:!0});var l=a("5HJ5"),o=a("2sCs"),i=a.n(o),c=a("QmSG"),s={mixins:[l.a],data:function(){return{globalUrl:Object(c.a)(),params:{pageNo:1,pageSize:10},tips:{SUCCESS:"采集成功!",TITLESTARTNOTFOUND:"采集失败!原因: 标题起始点不匹配",TITLEENDNOTFOUND:"采集失败!原因: 标题结束点不匹配",CONTENTSTARTNOTFOUND:"采集失败!原因: 内容起始点不匹配",CONTENTENDNOTFOUND:"采集失败!原因: 内容结束点不匹配",TITLEEXIST:"采集失败!原因: 标题已存在",VIEWSTARTNOTFOUND:"采集失败!原因: 浏览量起始点不匹配",VIEWENDNOTFOUND:"采集失败!原因: 浏览量结束点不匹配",AUTHORSTARTNOTFOUND:"采集失败!原因: 作者起始点不匹配",AUTHORENDNOTFOUND:"采集失败!原因: 作者结束点不匹配",DESCRISTARTNOTFOUND:"采集失败!原因: 摘要起始点不匹配",DESCRIENDNOTFOUND:"采集失败!原因: 摘要结束点不匹配",ORIGINSTARTNOTFOUND:"采集失败!原因: 来源起始点不匹配",ORIGINENDNOTFOUND:"采集失败!原因: 来源结束点不匹配",RELEASESTARTNOTFOUND:"采集失败!原因: 发布时间起始点不匹配",RELEASEENDNOTFOUND:"采集失败!原因: 发布时间结束点不匹配",VIEWIDSTARTNOTFOUND:"采集失败!原因: 发布时间起始点不匹配",VIEWIDENDNOTFOUND:"采集失败!原因: 发布时间结束点不匹配"}}},methods:{suspend:function(t){var e=this;i.a.post(this.$api.collectPause,{id:t}).then(function(t){e.loading=!0,"200"==t.code&&(e.loading=!1,e.getTableData(e.params),e.successMessage("操作成功"))}).catch(function(t){e.loading=!1})},stop:function(t){var e=this;i.a.post(this.$api.collectEnd,{id:t}).then(function(t){e.loading=!0,"200"==t.code&&(e.loading=!1,e.getTableData(e.params),e.successMessage("操作成功"))}).catch(function(t){e.loading=!1})},start:function(t){var e=this;i.a.post(this.$api.collectStart,{ids:t}).then(function(t){e.loading=!0,"200"==t.code&&(e.loading=!1,e.getTableData(e.params),e.successMessage("操作成功"))}).catch(function(t){e.loading=!1})},getTableData:function(t){var e=this;this.loading=!0,this.state=!1,i.a.post(this.listUrl,t).then(function(t){e.loading=!1,"200"==t.code&&(e.total=t.totalCount,e.tableData=t.body)}).catch(function(t){e.loading=!1,e.state=!1})}},created:function(){this.initTableData(this.$api.collectHistoryLIst,this.params)}},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"cms-body"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.checkIds}},[a("el-table-column",{attrs:{type:"selection",width:"65",align:"right"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"200",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"acqName",label:"采集名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"acqChannelName",label:"所属栏目",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"acqTypeName",label:"内容类型",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"采集地址",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:e.row.channelUrl,target:"_blank"}},[t._v("点击浏览")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"内容地址",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:e.row.contentUrl,target:"_blank"}},[t._v("点击浏览")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"状态",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["SUCCESS"==e.row.description?a("span",{staticClass:"collectioning"},[t._v("成功")]):a("span",{staticClass:"stoping"},[t._v("失败")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"描述",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.tips[e.row.description]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"100",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/collectionhistory/delete",expression:"'/collectionhistory/delete'"}],staticClass:"btn-collect delete",attrs:{title:"删除"},on:{click:function(a){t.deleteBatch(t.$api.collectHistoryDelete,e.row.id)}}},[a("i",{staticClass:"iconfont  icon-shanchu1"})])],1)}}])})],1),t._v(" "),a("div",{staticClass:"cms-list-footer"},[a("div",{staticClass:"cms-left"},[a("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/collectionhistory/delete",expression:"'/collectionhistory/delete'"}],attrs:{disabled:t.disabled},on:{click:function(e){t.deleteBatch(t.$api.collectHistoryDelete,t.ids)}}},[t._v("批量删除")])],1),t._v(" "),a("div",{staticClass:"cms-right"},[a("cms-pagination",{attrs:{total:t.total},on:{change:t.getPages}})],1)])],1)},d=[],u={render:r,staticRenderFns:d},p=u,f=a("Z0/y"),b=n,g=f(s,p,!1,b,"data-v-6698c3fe",null);e.default=g.exports},WNGB:function(t,e,a){var n=a("mwuL");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("FIqI")("4a6df382",n,!0,{})},mwuL:function(t,e,a){e=t.exports=a("UTlt")(!1),e.push([t.i,"\n.cms-body table .btn-collect[data-v-6698c3fe] {\r\n    display: inline-block;\r\n    height: 24px;\r\n    width: 24px;\r\n    min-width: 0px;\r\n    line-height: 24px;\r\n    padding: 0px;\r\n    font-size: 14px;\r\n    color: #ffffff;\r\n    margin-left: 2px;\r\n    border: 0px;\r\n    border-radius: 4px;\r\n    -webkit-box-sizing: border-box;\r\n            box-sizing: border-box;\r\n    line-height: 1;\n}\n.cms-body table .edit[data-v-6698c3fe]{\r\n  background-color: #17d57e;\r\n  font-weight: 100px;\n}\n.edit .iconfont [data-v-6698c3fe],\r\n.delete .iconfont[data-v-6698c3fe] {\r\n  font-size: 12px;\n}\n.cms-body table .delete[data-v-6698c3fe]{\r\n  background-color: #ff8b53;\r\n  font-weight: 100px;\n}\n.cms-body table  .suspend[data-v-6698c3fe]{\r\n  background-color: #00aeff;\n}\n.cms-body table  .start[data-v-6698c3fe]{\r\n  background-color: #67C23A\n}\n.cms-body table  .stop[data-v-6698c3fe]{\r\n  background-color: #F56C6C\n}\n.collectioning[data-v-6698c3fe]{\r\n  color: green;\n}\n.stoping[data-v-6698c3fe]{\r\n  color: red;\n}\n.pushing[data-v-6698c3fe]{\r\n  color: red;\n}\r\n",""])}});