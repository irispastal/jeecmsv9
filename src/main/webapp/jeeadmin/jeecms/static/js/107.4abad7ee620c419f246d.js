webpackJsonp([107],{TdIV:function(e,t,a){"use strict";function i(e){a("XapY")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("5HJ5"),l=a("x1ym"),n=a("2sCs"),s=a.n(n),r=a("QmSG"),d={mixins:[o.a],data:function(){var e=l.a.required("此项必填");l.a.number("必须为数字");return{globalUrl:Object(r.a)(),params:{},dataInfo:{},dialogVisible:!1,rules:{name:[e],priority:[e]},labelDialogTitle:"",operateType:""}},methods:{loadDialog:function(e,t){var a=this;this.operateType=e,s.a.post(this.$api.guestbookTypeGet,{id:t}).then(function(e){"200"==e.code&&(a.dataInfo=e.body)}),this.labelDialogTitle="save"==e?"新增留言类别":"修改留言类别",this.dialogVisible=!0},handleClose:function(e){e()},modifyData:function(){var e=this,t=this.$refs.form,a="save"==this.operateType?this.$api.guestbookTypeSave:this.$api.guestbookTypeUpdate;t.validate(function(t){if(!t)return!1;e.loading=!0,s.a.post(a,e.dataInfo).then(function(t){e.loading=!1,"200"==t.code&&(e.successMessage("save"==e.operateType?"新增成功":"修改成功"),e.getTableData(e.params),e.dialogVisible=!1,e.dataInfo={})}).catch(function(t){e.loading=!1})})}},created:function(){this.initTableData(this.$api.guestbookTypeList,this.params)}},p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"cms-body"},[a("cms-back"),e._v(" "),a("div",{staticClass:"cms-list-header "},[a("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/guestbookType/add",expression:"'/guestbookType/add'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.loadDialog("save",0)}}},[e._v("添加")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""},on:{"selection-change":e.checkIds}},[a("el-table-column",{attrs:{type:"selection",width:"65",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"priority",width:"100",label:"排序",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{width:"300",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{},[a("cms-button",{directives:[{name:"perms",rawName:"v-perms",value:"/guestbookType/update",expression:"'/guestbookType/update'"}],attrs:{type:"edit"},nativeOn:{click:function(a){e.loadDialog("update",t.row.id)}}}),e._v(" "),a("cms-button",{directives:[{name:"perms",rawName:"v-perms",value:"/guestbookType/delete",expression:"'/guestbookType/delete'"}],attrs:{type:"delete"},nativeOn:{click:function(a){e.deleteBatch(e.$api.guestbookTypeDelete,t.row.id)}}})],1)}}])})],1),e._v(" "),a("div",{staticClass:"cms-list-footer"},[a("div",{staticClass:"cms-left"},[a("el-button",{directives:[{name:"perms",rawName:"v-perms",value:"/guestbookType/delete",expression:"'/guestbookType/delete'"}],attrs:{disabled:e.disabled},on:{click:function(t){e.deleteBatch(e.$api.guestbookTypeDelete,e.ids)}}},[e._v("批量删除")])],1)]),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:e.labelDialogTitle,visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.dataInfo,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.dataInfo.name,callback:function(t){e.$set(e.dataInfo,"name",t)},expression:"dataInfo.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"priority"}},[a("el-input",{model:{value:e.dataInfo.priority,callback:function(t){e.$set(e.dataInfo,"priority",t)},expression:"dataInfo.priority"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.dataInfo.description,callback:function(t){e.$set(e.dataInfo,"description",t)},expression:"dataInfo.description"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.modifyData}},[e._v(e._s("save"==e.operateType?"新增":"修改"))])],1)],1)],1)},c=[],u={render:p,staticRenderFns:c},f=u,m=a("Z0/y"),b=i,v=m(d,f,!1,b,"data-v-41d8d250",null);t.default=v.exports},XapY:function(e,t,a){var i=a("wGAY");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("FIqI")("3f3656b4",i,!0,{})},wGAY:function(e,t,a){t=e.exports=a("UTlt")(!1),t.push([e.i,"\n.el-col .el-form-item[data-v-41d8d250]{\r\n\tmargin-bottom: 0px;\n}\n.el-form-item__error[data-v-41d8d250]{\r\n\tleft: 83%\n}\n.input-name[data-v-41d8d250]{\r\n\twidth: 350px\n}\n.el-button--primary[data-v-41d8d250]{\r\n  height: 34px;\n}\n.iconfont[data-v-41d8d250]{\r\n  color: #ffffff;\n}\r\n",""])}});